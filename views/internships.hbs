<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script> 
    <script src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script> 
    <script src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script> 
    


    <title>Internships -clarkTech Apply</title>
</head>
<body>
    <nav id="a">
        <h4><a class="text-white text-decoration-none" href="/">clarkTech Apply</a></h4>
        <ul>
            <li><a id="b" href="/">Home</a></li>
            <li><a href="/tips">Tips</a></li>
            <li><a href="/myapps">MyApps</a></li>
            <li><a href="/internships">Internships</a></li>
            <li><a href="/auth/logout">Logout</a></li>
        </ul>
    </nav>

    <div class="containter mt-4">
        
        <div class="col-12">
            <div class="car text-center">
                <div class="card-header">
                    Browse Internships
                </div>
<table id="internshipTable" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
  <thead>
    <tr>
      <th class="th-sm">Company
      </th>
        <th class="th-sm">Tags
      </th>
       <th class="th-sm">Jrs Only?
      </th>
      <th class="th-sm">Int'l Students?
      </th>
      <th class="th-sm">Position
      </th>
      <th class="th-sm">Date Added
      </th>
      <th class="th-sm">Apply
      </th>
      <th class="th-sm">Track
      </th>
    </tr>
  </thead>
  <tbody>
    {{#each jobs}}
      <tr>
        <td>{{company_name}}</td>
        <td>
           {{#if dsci_tag}}
              <span class="badge badge-pill badge-primary">DSCI</span>            
              {{/if}}
          {{#if swe_tag}}
              <span class="badge badge-pill badge-success">SWE</span>            
            {{/if}}
          {{#if it_tag}}
              <span class="badge badge-pill badge-dark">IT</span>            
            {{/if}}
          {{#if consulting_tag}}
              <span class="badge badge-pill badge-warning">TECH-CONSULTING</span>            
          {{/if}}
          {{#if cyber_tag}}
              <span class="badge badge-pill badge-danger">CYBER</span>            
          {{/if}}
          {{#if product_tag}}
              <span class="badge badge-pill badge-secondary">PM</span>            
          {{/if}}
        </td>
        {{#if juniors_only}}
         <td>Jrs Only</td> 
        {{else}} 
          <td>Any</td>
        {{/if}}


        <td>{{international_allowed}}</td>
        <td>{{internship_title}}</td>
        <td>{{date_added}}</td>
        <td><a href={{link}} target="_blank" class="btn btn-success" role="button">Apply</a></td>
        <td>  <form action="/auth/track" method="POST">
              {{#if is_tracked}}

                <button class="btn btn-info" disabled>+</button>
             
              {{else}}
                <button name="job_id" class="btn btn-success" value={{job_id}}>+</button>
                {{/if}}
              </form>
        </td>
      </tr>
    {{/each}}

   
  </tbody>

  <tfoot>
    <tr>
      <th>Company
      </th>
      <th>Tags
      </th>
      <th>Jrs Only?
      </th>
      <th>Int'l Students?
      </th>
      <th>Position
      </th>
      <th>Date Added
      </th>
      <th>Apply
      </th>
      <th>Track
      </th>
    </tr>
  </tfoot>
  <script>
  $(document).ready(function() {
    $('#internshipTable').DataTable({
      "order": [[4, "desc"]]
    });
} );
</script>
</table>

               
            </div>
        </div>
        
    </div>
{{#if message}}
        <h4 class="alert alert-danger mt-4">{{message}}</h4>
        {{/if}}
        {{#if error}}
        <h4 class="alert alert-danger mt-4">{{error}}</h4>
        {{/if}}
</body>
<footer class="bg-light text-center text-lg-start">
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
    <a class="text-dark">Built by Evan Hurst Hoffman, Clark'21
    <p>
        <a href= "https://www.linkedin.com/in/evan-hoffman/" target="_blank">
        <img src="/images/linkedinIcon.png" style="width: 25px; height: 25px"  class="img-thumbnail">
                <a href= "https://github.com/Evan-Hoffman/Clark-Tech-Apply" target="_blank" role = "button">Code</a>

        </p>
        <a class="text-dark">For Support, contact clarktechapply@gmail.com</a>
    </a>
  </div>
</footer>
</html>